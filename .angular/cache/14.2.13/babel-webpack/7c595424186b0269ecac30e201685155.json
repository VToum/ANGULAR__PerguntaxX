{"ast":null,"code":"import _asyncToGenerator from \"C:/Projetos/PerguntaxX/FrontEnd_PerguntaxX/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport perguntaxX_questao from '../../../assets/data/perguntaxX_questao.json';\nlet PerguntasComponent = class PerguntasComponent {\n  constructor() {\n    this.titulo = \"Pronto para descobrir ?\";\n    this.respostas = [];\n    this.perguntaSelecionada = \"\";\n    this.questionIndex = 0;\n    this.questionMaxIndex = 0;\n    this.fim = false;\n  }\n\n  ngOnInit() {\n    if (perguntaxX_questao) {\n      this.fim = false;\n      this.titulo = perguntaxX_questao.title;\n      this.questao = perguntaxX_questao.questions;\n      this.questaoSelecionada = this.questao[this.questionIndex];\n      this.questionIndex = 0;\n      this.questionMaxIndex = perguntaxX_questao.questions.length;\n      console.log(this.questionIndex);\n      console.log(this.questionMaxIndex);\n    }\n  }\n\n  opcaoSelecionada(valor) {\n    this.respostas.push(valor);\n    this.proximaQuestao();\n    console.log(this.respostas);\n  }\n\n  proximaQuestao() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.questionIndex += 1;\n      const resultadoFinal = yield _this.checkResultado(_this.respostas);\n\n      if (_this.questionIndex < _this.questionMaxIndex) {\n        _this.questaoSelecionada = _this.questao[_this.questionIndex];\n      } else {\n        _this.fim = true;\n        _this.questaoSelecionada = perguntaxX_questao.results[resultadoFinal];\n      }\n    })();\n  }\n\n  checkResultado(resposta) {\n    return _asyncToGenerator(function* () {\n      const resultado = resposta.reduce((previus, current, i, arr) => {\n        if (arr.filter(item => item == previus).length > arr.filter(item => item == current).length) {\n          return previus;\n        } else {\n          return current;\n        }\n      });\n      return resultado;\n    })();\n  }\n\n  jogarNovamente() {\n    window.location.reload();\n  }\n\n};\nPerguntasComponent = __decorate([Component({\n  selector: 'app-perguntas',\n  templateUrl: './perguntas.component.html',\n  styleUrls: ['./perguntas.component.css']\n})], PerguntasComponent);\nexport { PerguntasComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AACA,OAAOC,kBAAP,MAAgC,8CAAhC;AAOA,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAb,CAA+B;EAiB7BC;IAfA,cAAiB,yBAAjB;IAKA,iBAAsB,EAAtB;IACA,2BAA8B,EAA9B;IAEA,qBAAuB,CAAvB;IACA,wBAA0B,CAA1B;IAIA,WAAe,KAAf;EAEiB;;EAEjBC,QAAQ;IACN,IAAGH,kBAAH,EAAsB;MACpB,KAAKI,GAAL,GAAW,KAAX;MACA,KAAKC,MAAL,GAAcL,kBAAkB,CAACM,KAAjC;MACA,KAAKC,OAAL,GAAeP,kBAAkB,CAACQ,SAAlC;MACA,KAAKC,kBAAL,GAA0B,KAAKF,OAAL,CAAa,KAAKG,aAAlB,CAA1B;MAEA,KAAKA,aAAL,GAAqB,CAArB;MACA,KAAKC,gBAAL,GAAwBX,kBAAkB,CAACQ,SAAnB,CAA6BI,MAArD;MAEAC,OAAO,CAACC,GAAR,CAAY,KAAKJ,aAAjB;MACAG,OAAO,CAACC,GAAR,CAAY,KAAKH,gBAAjB;IAED;EACF;;EAEDI,gBAAgB,CAACC,KAAD,EAAc;IAC5B,KAAKC,SAAL,CAAeC,IAAf,CAAoBF,KAApB;IACA,KAAKG,cAAL;IACAN,OAAO,CAACC,GAAR,CAAY,KAAKG,SAAjB;EACD;;EAEKE,cAAc;IAAA;;IAAA;MAClB,KAAI,CAACT,aAAL,IAAoB,CAApB;MACA,MAAMU,cAAc,SAAiB,KAAI,CAACC,cAAL,CAAoB,KAAI,CAACJ,SAAzB,CAArC;;MAEA,IAAG,KAAI,CAACP,aAAL,GAAqB,KAAI,CAACC,gBAA7B,EAA+C;QAC7C,KAAI,CAACF,kBAAL,GAA0B,KAAI,CAACF,OAAL,CAAa,KAAI,CAACG,aAAlB,CAA1B;MACD,CAFD,MAEK;QACH,KAAI,CAACN,GAAL,GAAW,IAAX;QACA,KAAI,CAACK,kBAAL,GAA0BT,kBAAkB,CAACsB,OAAnB,CAA2BF,cAA3B,CAA1B;MACD;IATiB;EAUnB;;EAEKC,cAAc,CAACE,QAAD,EAAmB;IAAA;MACrC,MAAMC,SAAS,GAAGD,QAAQ,CAACE,MAAT,CAAgB,CAACC,OAAD,EAAUC,OAAV,EAAmBC,CAAnB,EAAsBC,GAAtB,KAA6B;QAC7D,IACEA,GAAG,CAACC,MAAJ,CAAWC,IAAI,IAAIA,IAAI,IAAIL,OAA3B,EAAoCd,MAApC,GACAiB,GAAG,CAACC,MAAJ,CAAWC,IAAI,IAAIA,IAAI,IAAIJ,OAA3B,EAAoCf,MAFtC,EAIC;UACC,OAAOc,OAAP;QAED,CAPD,MAOK;UACH,OAAOC,OAAP;QAED;MACF,CAZiB,CAAlB;MAcA,OAAOH,SAAP;IAfqC;EAgBtC;;EAEDQ,cAAc;IACZC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;EACD;;AAzE4B,CAA/B;AAAalC,kBAAkB,eAL9BF,SAAS,CAAC;EACTqC,QAAQ,EAAE,eADD;EAETC,WAAW,EAAE,4BAFJ;EAGTC,SAAS,EAAE,CAAC,2BAAD;AAHF,CAAD,CAKqB,GAAlBrC,kBAAkB,CAAlB;SAAAA","names":["Component","perguntaxX_questao","PerguntasComponent","constructor","ngOnInit","fim","titulo","title","questao","questions","questaoSelecionada","questionIndex","questionMaxIndex","length","console","log","opcaoSelecionada","valor","respostas","push","proximaQuestao","resultadoFinal","checkResultado","results","resposta","resultado","reduce","previus","current","i","arr","filter","item","jogarNovamente","window","location","reload","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Projetos\\PerguntaxX\\FrontEnd_PerguntaxX\\src\\app\\components\\perguntas\\perguntas.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport perguntaxX_questao  from '../../../assets/data/perguntaxX_questao.json'; \n\n@Component({\n  selector: 'app-perguntas',\n  templateUrl: './perguntas.component.html',\n  styleUrls: ['./perguntas.component.css']\n})\nexport class PerguntasComponent implements OnInit {\n\n  titulo: string = \"Pronto para descobrir ?\"\n\n  questao: any;\n  questaoSelecionada: any;\n\n  respostas: string[] = [];\n  perguntaSelecionada: string = \"\";\n\n  questionIndex:number = 0;\n  questionMaxIndex:number = 0;\n\n\n\n  fim: boolean = false;\n  \n  constructor() { }\n\n  ngOnInit(): void {\n    if(perguntaxX_questao){\n      this.fim = false;\n      this.titulo = perguntaxX_questao.title;\n      this.questao = perguntaxX_questao.questions;\n      this.questaoSelecionada = this.questao[this.questionIndex];\n\n      this.questionIndex = 0;\n      this.questionMaxIndex = perguntaxX_questao.questions.length;\n\n      console.log(this.questionIndex);\n      console.log(this.questionMaxIndex);\n\n    }\n  }\n\n  opcaoSelecionada(valor: string){\n    this.respostas.push(valor);\n    this.proximaQuestao();\n    console.log(this.respostas)\n  }\n\n  async proximaQuestao(){\n    this.questionIndex+=1;\n    const resultadoFinal: string = await this.checkResultado(this.respostas);\n\n    if(this.questionIndex < this.questionMaxIndex ){\n      this.questaoSelecionada = this.questao[this.questionIndex]\n    }else{\n      this.fim = true;\n      this.questaoSelecionada = perguntaxX_questao.results[resultadoFinal as keyof typeof perguntaxX_questao.results ]\n    }\n  }\n\n  async checkResultado(resposta: string[]){\n    const resultado = resposta.reduce((previus, current, i, arr) => {\n      if(\n        arr.filter(item => item == previus).length >\n        arr.filter(item => item == current).length\n\n      ){\n        return previus;\n\n      }else{\n        return current;\n\n      }\n    })\n  \n    return resultado;\n  }\n\n  jogarNovamente(){\n    window.location.reload()\n  }\n}\n"]},"metadata":{},"sourceType":"module"}